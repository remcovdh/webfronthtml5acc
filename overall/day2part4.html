<html>
  <head>
    <title>Web front-end html5 acceleration course (day 2)</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link type="text/css" rel="stylesheet" href="styles/style.css">
		<link type="text/css" rel="stylesheet" href="vendor/syntaxhighlighter/shCore.css"></link>
		<link type="text/css" rel="stylesheet" href="vendor/syntaxhighlighter/shThemeDefault.css"></link>
		<script type="text/javascript" src="vendor/syntaxhighlighter/shCore.js"></script>
		<script type="text/javascript" src="vendor/syntaxhighlighter/shBrushJScript.js"></script>
		<script type="text/javascript" src="vendor/syntaxhighlighter/shBrushXML.js"></script>
		<script type="text/javascript">
		    SyntaxHighlighter.all();
		</script>
		
	</head>
  <body>
		<p>
			<a href="day0part0.html">Before start</a>
			<a href="day1part0.html">Start day 1</a>
			<a href="day1part1.html">[1.1]</a>
			<a href="day1part2.html">[1.2]</a>
			<a href="day1part3.html">[1.3]</a>
			<a href="day1part4.html">[1.4]</a>
			<a href="day1part5.html">[1.5]</a>
			<a href="day2part0.html">Start day 2</a>
			<a href="day2part1.html">[2.1]</a>
			<a href="day2part2.html">[2.2]</a>
			<a href="day2part3.html">[2.3]</a>
			<a href="day2part4.html">[2.4]</a>
			<a href="day2part5.html">[2.5]</a>
			<a href="day2part6.html">[2.6]</a><a href="day2part7.html">[2.7]</a><a href="day3part0.html">Start day 3</a><a href="day3part1.html">[3.1]</a><a href="day3part2.html">[3.2]</a><a href="day3part3.html">[3.3]</a><a href="day3part4.html">[3.4]</a><a href="day3part5.html">[3.5]</a><a href="day3part6.html">[3.6]</a>
		</p>
		<h2>Storing information in the client (day 2, part 4)</h2>
		
		<h2>Local storage in the DOM</h2>
		This is a very simple api for storing key value pairs. The code is like this.
		<pre class="brush: javascript;">localStorage["key"] = value;</pre>

		The following restriction you need to be aware of in using localstorage:
		<ol>
			<li>It can only store strings, so you need to serialize/deserialize for more complex object storing strategies.</li>
			<li>It is also not supported by all browser, but it is supported by the fast majority of browser out there.</li>
			<li>Size limits (2,5 MB is the least known minimum)</li>
			<li>It is bound to the domain (not the client). The same-origin rules applies.</li>
			<li>Internet explorer from IE8+</li>
		</ol>
	<div class='excercise'>
		<br/>
		<b>Excercises:</b><br />
		<ol>
			<li>Make a simple html, javascript page that counts the number of times you opened/refreshed the page</li>
			<li>Add a button to clear the number</li>
			<li>Check how this is represented in your development tools in the browser</li>
			<li>Look for the differences between your solution and the one outlined at <a href="day2part4/localstorage.html">day2part4/localstorage.html</a></li>
		</ol>
		<br />
	</div>
	<br />
	
	<h2>IndexDB</h2>
	<p>One of the major disadvantages of the local storage is the storage capacity. The current tradeoff is between larger browser support or storage space. This all depends on the use-case. There were previously two other choices you could make when needing more space. There was Web SQL database. But this is depracted and therefore no longer a realy valid choice to be made. The other one is IndexDB. Although it's support is not widespread as is for local storage and still lacks full support in IE. It is working in IE10+ (see <a href="http://caniuse.com/#search=indexeddb">http://caniuse.com/#search=indexeddb</a> for a detailed supported on different browser versions and <a href="http://codepen.io/cemerick/pen/Itymi">http://codepen.io/cemerick/pen/Itymi</a> for a test script for different features of the api). </p>
	<p>
		IndexedDB is an key value pair database. Keys can be strings, numbers, dates or arrays and values can be complex objects. The keys can be generated automatically.
	</p>	
	
	<p>How does it work:
		<ol>
			<li>Start by opening the database</li>
			<li>Creat an store for your objects</li>
			<li>Start a transaction </li>
			<li>Using the transaction request (async) to do something (crud like actions)</li>
			<li>Wait and react (async) for the transaction to complete and do something with the result</li>
		</ol>
	</p>
	
	<div class='excercise'>
		<br/>
		<b>Excercises:</b><br />
		<ol>
			<li>Check the example code in <a href="day2part4/indexdb.html">day2part4/indexdb.html</a>. This example show the basics of indexdb usage. This example is largely based on <a href="http://www.html5rocks.com/en/tutorials/indexeddb/todo/#">http://www.html5rocks.com/en/tutorials/indexeddb/todo/#</a></li>
			<li>Add a transaction to delete something</li>
			<li>Show the results in the page</li>
			<li>Delete the total database and objectstore see <a href="http://stackoverflow.com/questions/9384128/how-to-delete-indexeddb-in-chrome">http://stackoverflow.com/questions/9384128/how-to-delete-indexeddb-in-chrome</a></li>
		</ol>
		<br />
	</div>
	<p>
	Other example to check when diving deeper into this are: <a href="http://code.tutsplus.com/tutorials/working-with-indexeddb--net-34673">http://code.tutsplus.com/tutorials/working-with-indexeddb (1)</a> 
	<a href="http://code.tutsplus.com/tutorials/working-with-indexeddb-part-2--net-35355"> (2)</a>
	<a href="http://code.tutsplus.com/tutorials/working-with-indexeddb-part-3--net-36220"> (3)</a> and 
	<a href="http://dev.opera.com/articles/introduction-to-indexeddb/">http://dev.opera.com/articles/introduction-to-indexeddb/</a>
	<p/>
	Also intresting:	<br />
	<a href="http://www.kristofdegrave.be/2012/08/indexeddb-keys-efficiently-retrieving.html"> 	http://www.kristofdegrave.be/2012/08/indexeddb-keys-efficiently-retrieving.html	</a>
	which is especially intresting for its Linq related link.


	<h2>Offline first</h2>
	<b>TODO</b>See also presentation offline first and http://hood.ie/		
</body>
</html>
